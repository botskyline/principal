<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crystal Lake</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.153.0/examples/js/controls/OrbitControls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>

<style>
:root {
  --primary-color: #5a0bd4;
  --secondary-color: #3c0f8a;
  --accent-color: #ff5ca2;
  --text-color: #ffffff;
  --background-color: #1a0d2a;
}

body, html {
  margin:0; padding:0; width:100%; height:100%; overflow-x:hidden; font-family:'Roboto', sans-serif;
  background:var(--background-color); cursor:crosshair;
}

#container { position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

.overlay {
  position:absolute; top:0; left:0; width:100%; height:100%;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  z-index:10; text-align:center; color:var(--text-color); pointer-events:none;
}

h1 {
  font-family:'Orbitron', sans-serif;
  font-size:5em; color:var(--primary-color);
  text-shadow:0 0 20px var(--primary-color),0 0 40px var(--accent-color);
  margin-bottom:20px; opacity:0;
  animation: neonGlow 1.5s infinite alternate;
}

@keyframes neonGlow {
  from { text-shadow:0 0 10px var(--accent-color),0 0 30px var(--primary-color); }
  to { text-shadow:0 0 30px var(--accent-color),0 0 60px var(--primary-color); }
}

p { font-size:1.5em; margin-bottom:40px; opacity:0; text-shadow:0 0 5px #fff; }

.btn {
  padding:15px 50px; font-size:1.5em; font-weight:bold; color:var(--text-color);
  text-decoration:none; border-radius:50px; border:none;
  background:linear-gradient(45deg, var(--primary-color), var(--accent-color));
  cursor:pointer; box-shadow:0 0 20px var(--accent-color);
  opacity:0; transition:0.3s all; position:relative; pointer-events:auto;
}

.btn:hover { transform:scale(1.2) rotate(-2deg); box-shadow:0 0 50px var(--accent-color),0 0 100px var(--primary-color); }

.section {
  width:90%; max-width:1200px; background:rgba(30,15,50,0.7); border-radius:20px;
  padding:40px; margin:20px auto; color:#fff; text-align:left;
  box-shadow:0 0 20px var(--accent-color); opacity:0; transform:translateY(50px);
  transition: all 1s ease-out;
}

.section.show { opacity:1; transform:translateY(0); }

.section h2 {
  font-family:'Orbitron', sans-serif; color:var(--accent-color); font-size:2.5em;
  margin-bottom:20px; text-shadow:0 0 10px var(--accent-color);
}

.card {
  background:rgba(50,25,80,0.8); border-radius:15px; padding:20px; margin:15px 0;
  box-shadow:0 0 15px var(--primary-color); transition:0.3s all; cursor:pointer;
}

.card:hover {
  transform:translateY(-10px) scale(1.05);
  box-shadow:0 0 40px var(--accent-color),0 0 60px var(--primary-color);
}

@media(max-width:768px){
  h1{ font-size:3em; } p,.btn{ font-size:1.2em; padding:12px 30px; }
  .section h2{ font-size:2em; }
}
</style>
</head>
<body>

<div id="container"></div>

<div class="overlay">
  <h1 id="title">Crystal Lake</h1>
  <p id="subtitle">A comunidade mais sombria e futurista</p>
  <a href="https://discord.gg/DYUWpTf3Bs" target="_blank" class="btn" id="discordBtn">Entrar no Discord</a>
</div>

<div class="section" id="about">
  <h2>Sobre Nós</h2>
  <div class="card">Somos uma comunidade que ama tecnologia, jogos e cyberpunk. Venha se juntar a nós!</div>
</div>

<div class="section" id="rules">
  <h2>Regras</h2>
  <div class="card">1. Respeite todos os membros</div>
  <div class="card">2. Nada de spam ou publicidade sem permissão</div>
  <div class="card">3. Divirta-se!</div>
</div>

<div class="section" id="events">
  <h2>Eventos</h2>
  <div class="card">Sorteios semanais de jogos</div>
  <div class="card">Torneios de CS:GO e Valorant</div>
  <div class="card">Streams exclusivas da comunidade</div>
</div>

<script>
  // --- Animações de entrada ---
  function fadeInAnime(el, delay=0){ anime({ targets: el, translateY:[50,0], opacity:[0,1], duration:1200, delay:delay, easing:'easeOutExpo' }); }
  window.addEventListener('load', ()=>{
    fadeInAnime('#title'); fadeInAnime('#subtitle',300); fadeInAnime('#discordBtn',600);
  });

  // --- Scroll Sections ---
  const sections = document.querySelectorAll('.section');
  window.addEventListener('scroll', ()=>{
    const triggerBottom = window.innerHeight * 0.85;
    sections.forEach(sec=>{
      const secTop = sec.getBoundingClientRect().top;
      if(secTop < triggerBottom){ sec.classList.add('show'); }
    });
  });

  // --- Three.js Setup ---
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 3000);
  camera.position.z = 400;

  const renderer = new THREE.WebGLRenderer({ antialias:true, alpha:true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.getElementById('container').appendChild(renderer.domElement);

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableZoom = false; controls.enablePan = false;

  // --- Partículas e Linhas ---
  const particleCount = 500;
  const particlesGeo = new THREE.BufferGeometry();
  const positions = new Float32Array(particleCount*3);
  const colors = new Float32Array(particleCount*3);

  for(let i=0;i<particleCount;i++){
    positions[i*3] = (Math.random()-0.5)*2000;
    positions[i*3+1] = (Math.random()-0.5)*2000;
    positions[i*3+2] = (Math.random()-0.5)*2000;

    const color = new THREE.Color(`hsl(${Math.random()*60+270},100%,50%)`);
    colors[i*3] = color.r;
    colors[i*3+1] = color.g;
    colors[i*3+2] = color.b;
  }

  particlesGeo.setAttribute('position', new THREE.BufferAttribute(positions,3));
  particlesGeo.setAttribute('color', new THREE.BufferAttribute(colors,3));

  const particlesMat = new THREE.PointsMaterial({ size:6, vertexColors:true, transparent:true, opacity:0.8 });
  const particles = new THREE.Points(particlesGeo, particlesMat);
  scene.add(particles);

  // Lines
  const lineMat = new THREE.LineBasicMaterial({ color:0xff5ca2, transparent:true, opacity:0.1 });
  const linesGeo = new THREE.BufferGeometry();
  const linePositions = new Float32Array(particleCount*particleCount*3);
  linesGeo.setAttribute('position', new THREE.BufferAttribute(linePositions,3));
  const lineMesh = new THREE.LineSegments(linesGeo, lineMat);
  scene.add(lineMesh);

  function updateLines(){
    let idx = 0;
    for(let i=0;i<particleCount;i++){
      for(let j=i+1;j<particleCount;j++){
        const dx = positions[i*3]-positions[j*3];
        const dy = positions[i*3+1]-positions[j*3+1];
        const dz = positions[i*3+2]-positions[j*3+2];
        const dist = Math.sqrt(dx*dx+dy*dy+dz*dz);
        if(dist<200){
          linePositions[idx++] = positions[i*3]; linePositions[idx++] = positions[i*3+1]; linePositions[idx++] = positions[i*3+2];
          linePositions[idx++] = positions[j*3]; linePositions[idx++] = positions[j*3+1]; linePositions[idx++] = positions[j*3+2];
        }
      }
    }
    lineMesh.geometry.setDrawRange(0, idx/3);
    lineMesh.geometry.attributes.position.needsUpdate=true;
  }

  // Geometries flutuantes
  const geoGroup = new THREE.Group();
  for(let i=0;i<20;i++){
    const geom = new THREE.TorusKnotGeometry(Math.random()*10+10, 3,100,16);
    const mat = new THREE.MeshStandardMaterial({ color:0xff5ca2, emissive:0x5a0bd4, emissiveIntensity:0.5, transparent:true, opacity:0.7 });
    const mesh = new THREE.Mesh(geom, mat);
    mesh.position.set((Math.random()-0.5)*1000,(Math.random()-0.5)*500,(Math.random()-0.5)*1000);
    geoGroup.add(mesh);
  }
  scene.add(geoGroup);

  // Lights
  const ambient = new THREE.AmbientLight(0xffffff,0.5);
  const pointLight = new THREE.PointLight(0xff5ca2,1,2000);
  pointLight.position.set(500,500,500);
  scene.add(ambient,pointLight);

  // Animate
  function animate(){
    requestAnimationFrame(animate);
    particles.rotation.y+=0.001;
    geoGroup.rotation.y+=0.002;
    geoGroup.rotation.x+=0.001;
    updateLines();
    renderer.render(scene,camera);
  }
  animate();

  window.addEventListener('resize', ()=>{
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });

  // Discord Button Particles
  const btn = document.getElementById('discordBtn');
  btn.addEventListener('mousemove', (e)=>{
    let particle = document.createElement('span');
    particle.style.position='absolute';
    particle.style.width='6px'; particle.style.height='6px';
    particle.style.borderRadius='50%';
    particle.style.background='var(--accent-color)';
    particle.style.top=e.offsetY+'px';
    particle.style.left=e.offsetX+'px';
    particle.style.pointerEvents='none';
    particle.style.opacity='1';
    particle.style.transition='all 0.5s ease-out';
    btn.appendChild(particle);
    setTimeout(()=>{ particle.style.top=(parseInt(particle.style.top)-30)+'px'; particle.style.opacity='0'; },10);
    setTimeout(()=>{ btn.removeChild(particle); },500);
  });
</script>
</body>
</html>
